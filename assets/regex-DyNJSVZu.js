import{d as q,r as x,p as C,E as V,C as W,_ as P,c as A,e as h,u as n,q as v,h as t,v as r,y as Q,F as H,g as T,o as w,x as c,t as M,G as Y,f as J}from"./index-CNb1k0Il.js";const ee=q({__name:"regex",setup(G,{expose:e}){e();const f=x(""),s=x("g"),$=x(!0),O=x(!1),i=x(!1),u=x(""),p=x(),b=x(""),k=x(""),R=x(""),a=x([{title:"一、校验数字的表达式",regexList:[{use:"用途",regex:"正则表达式",example:"示例",desc:"说明"},{use:"数字",regex:"^\\d+$",example:"12345",desc:"只允许非负整数（0或正整数）"},{use:"n位数字",regex:"^\\d{n}$",example:"1234 (n=4)",desc:"恰好 n 位数字"},{use:"至少n位数字",regex:"^\\d{n,}$",example:"12345 (n=3)",desc:"至少 n 位数字"},{use:"m-n位数字",regex:"^\\d{m,n}$",example:"1234 (m=2,n=4)",desc:"m 到 n 位数字"},{use:"零和非零开头数字",regex:"^(0|[1-9]\\d*)$",example:"0, 123",desc:"0 或非零开头的整数"},{use:"非零开头最多两位小数",regex:"^[1-9]\\d*(\\.\\d{1,2})?$",example:"12.34",desc:"正整数或带1-2位小数"},{use:"正负数带1-2位小数",regex:"^-?\\d+(\\.\\d{1,2})?$",example:"-12.34, 56.7",desc:"正负数，1-2位小数"},{use:"正数、负数、小数",regex:"^[-+]?\\d+(\\.\\d+)?$",example:"+12.3, -0.5",desc:"正负整数或小数"},{use:"两位小数正实数",regex:"^\\d+(\\.\\d{2})?$",example:"12, 12.34",desc:"正整数或两位小数"},{use:"1~3位小数正实数",regex:"^\\d+(\\.\\d{1,3})?$",example:"12.3, 12.345",desc:"正整数或1-3位小数"},{use:"非零正整数",regex:"^[1-9]\\d*$",example:"123",desc:"不含0的正整数"},{use:"非零负整数",regex:"^-[1-9]\\d*$",example:"-123",desc:"不含0的负整数"},{use:"非负整数",regex:"^\\d+$",example:"0, 123",desc:"0或正整数"},{use:"非正整数",regex:"^(-\\d+|0)$",example:"-123, 0",desc:"0或负整数"},{use:"非负浮点数",regex:"^\\d+(\\.\\d+)?$",example:"0, 12.3",desc:"0或正浮点数"},{use:"非正浮点数",regex:"^(-\\d+(\\.\\d+)?|0+(\\.0+)?)$",example:"-12.3, 0, 0.0",desc:"0或负浮点数"},{use:"正浮点数",regex:"^(([1-9]\\d*)|0)\\.\\d+$",example:"0.1, 12.3",desc:"大于0的浮点数"},{use:"负浮点数",regex:"^-(([1-9]\\d*)|0)\\.\\d+$",example:"-0.1, -12.3",desc:"小于0的浮点数"},{use:"浮点数",regex:"^-?\\d+(\\.\\d+)?$",example:"-12.3, 0, 45.6",desc:"正负浮点数"}]},{title:"二、校验字符串的表达式",regexList:[{use:"用途",regex:"正则表达式",example:"示例",desc:"说明"},{use:"汉字",regex:"^[\\u4e00-\\u9fa5]+$",example:"你好世界",desc:"只允许汉字，长度至少1"},{use:"英文和数字",regex:"^[A-Za-z0-9]+$",example:"abc123",desc:"只允许英文和数字"},{use:"4-40位英文和数字",regex:"^[A-Za-z0-9]{4,40}$",example:"abc12345",desc:"4-40位英文和数字"},{use:"长度为3-20的所有字符",regex:"^.{3,20}$",example:"abc, 12345678901234567890",desc:"任意字符，3-20位"},{use:"26个英文字母",regex:"^[A-Za-z]+$",example:"abcXYZ",desc:"只允许大小写英文字母"},{use:"26个大写英文字母",regex:"^[A-Z]+$",example:"ABCXYZ",desc:"只允许大写英文字母"},{use:"26个小写英文字母",regex:"^[a-z]+$",example:"abcxyz",desc:"只允许小写英文字母"},{use:"数字、字母或下划线",regex:"^\\w+$",example:"abc_123",desc:"数字、字母或下划线"},{use:"3-20位数字、字母或下划线",regex:"^\\w{3,20}$",example:"abc_123",desc:"3-20位数字、字母或下划线"},{use:"中文、英文、数字、下划线",regex:"^[\\u4E00-\\u9FA5A-Za-z0-9_]+$",example:"你好abc_123",desc:"允许中英文、数字、下划线"},{use:"中文、英文、数字（不含下划线）",regex:"^[\\u4E00-\\u9FA5A-Za-z0-9]+$",example:"你好abc123",desc:"允许中英文、数字，不含下划线"},{use:`可输入除%&',;=?$"等字符外的内容`,regex:"^[^%&',;=?$\\x22]+$",example:"abc123!@#",desc:`	不含%&',;=?$"等字符`},{use:"禁止输入含有~的字符",regex:"^[^~]+$",example:"abc123",desc:"不含~字符"}]},{title:"三、特殊需求表达式",regexList:[{use:"用途",regex:"正则表达式",example:"示例",desc:"说明"},{use:"Email地址",regex:"^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$",example:"test@mail.com",desc:"常用邮箱格式"},{use:"域名",regex:"[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\\.?",example:"www.example.com",desc:"支持多级域名"},{use:"Internet URL",regex:"^[a-zA-Z]+://[^\\s]+$",example:"https://abc.com",desc:"常用URL格式"},{use:"手机号码",regex:"^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$",example:"13812345678",desc:"中国大陆手机号"},{use:"电话号码（区号-号码）",regex:"^(\\d{3,4}-)?\\d{7,8}$",example:"010-12345678",desc:"区号可选"},{use:"国内电话号码",regex:"\\d{3}-\\d{8}|\\d{4}-\\d{7}",example:"021-12345678",desc:"常见座机格式"},{use:"支持分机号的电话",regex:"((\\d{11})|((\\d{7,8})|(\\d{3,4}-\\d{7,8})|(\\d{3,4}-\\d{7,8}-\\d{1,4})|(\\d{7,8}-\\d{1,4})))$",example:"010-12345678-123",desc:"支持分机号"},{use:"身份证号",regex:"(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}[\\dXx]$)",example:"110101199003071234",desc:"15/18位，末位可为X"},{use:"合法账号",regex:"^[a-zA-Z][a-zA-Z0-9_]{4,15}$",example:"abc_123",desc:"字母开头，5-16位"},{use:"密码（字母开头，6-18位）",regex:"^[a-zA-Z]\\w{5,17}$",example:"a12345_",desc:"字母开头，6-18位"},{use:"强密码（无特殊字符）",regex:"^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[a-zA-Z0-9]{8,10}$",example:"Abc12345",desc:"8-10位，含大小写字母和数字"},{use:"强密码（可含特殊字符）",regex:"^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$",example:"Abc12345!",desc:"8-10位，含大小写字母、数字、特殊字符"},{use:"日期格式",regex:"^\\d{4}-\\d{1,2}-\\d{1,2}$",example:"2023-01-01",desc:"yyyy-mm-dd"},{use:"一年12个月",regex:"^(0?[1-9]|1[0-2])$",example:"01, 12",desc:"01-12或1-12"},{use:"一个月31天",regex:"^((0?[1-9])|((1|2)[0-9])|30|31)$",example:"01, 31",desc:"01-31或1-31"},{use:"钱的输入（整数）",regex:"^(0|[1-9][0-9]*)$",example:"10000",desc:"非负整数"},{use:"钱的输入（可负数）",regex:"^(0|-?[1-9][0-9]*)$",example:"-10000",desc:"允许负数"},{use:"钱的输入（小数）",regex:"^[0-9]+(\\.[0-9]{1,2})?$",example:"10000.00",desc:"最多两位小数"},{use:"钱的输入（带千分位）",regex:"^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(\\.[0-9]{1,2})?$",example:"10,000.00",desc:"千分位支持"},{use:"xml文件",regex:"^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[xX][mM][lL]$",example:"test-1.xml",desc:"xml文件名"},{use:"中文字符",regex:"[\\u4e00-\\u9fa5]",example:"汉",desc:"单个中文字符"},{use:"双字节字符",regex:"[^\\x00-\\xff]",example:"汉字，日文",desc:"非ASCII字符"},{use:"空白行",regex:"^\\s*$",example:"（空行）",desc:"匹配空白行"},{use:"HTML标记",regex:"<[^>]+>",example:"<div>",desc:"简单HTML标签"},{use:"首尾空白字符",regex:"^\\s*|\\s*$",example:"  abc  ",desc:"去除首尾空白"},{use:"腾讯QQ号",regex:"[1-9][0-9]{4,}",example:"10000",desc:"5位及以上数字"},{use:"中国邮政编码",regex:"[1-9]\\d{5}(?!\\d)",example:"100000",desc:"6位数字"},{use:"IPv4地址",regex:"((2(5[0-5]|[0-4]\\d))|[0-1]?\\d{1,2})(\\.((2(5[0-5]|[0-4]\\d))|[0-1]?\\d{1,2})){3}",example:"192.168.1.1",desc:"IPv4格式"}]}]);function y(l){if(!l)return l;const o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#x2F;"};return l.replace(/[&<>"'\/]/g,d=>o[d])}function m(){const l=new RegExp(f.value,s.value),o=[];let d=null;do{if(d=l.exec(u.value),d==null)break;o.push({matched:d[0],index:d.index,groups:d.slice(1)}),d.index===l.lastIndex&&l.lastIndex++}while($.value);return o}function L(){if(R.value="",!(!f.value||f.value==="")){if(!u.value||u.value===""){p.value="输入内容为空，请输入输入内容",b.value="输入内容为空，请输入输入内容";return}try{const l=m();if(l.length>0){let o=0,d=0;const Z=[];for(let g=0;g<l.length;g++){const _=l[g];d=_.index,Z.push(u.value.substring(o,d).split(`
`).map(D=>`<span>${y(D)}</span>`).join("<br>")),Z.push('<span style="background: var(--bg-tertiary); padding: 0 var(--space-xs); border: 1px solid var(--brand-accent); border-radius: var(--radius-sm);">'+y(_.matched).split(`
`).join("<br>")+"</span>"),o=d+_.matched.length,g===l.length-1&&Z.push(u.value.substring(o).split(`
`).map(D=>`<span>${y(D)}</span>`).join("<br>"))}p.value=Z.join(""),b.value=`找到 ${l.length} 个匹配项:
${l.map((g,_)=>`${_+1}、匹配结果：${g.matched}，匹配组结果：${g.groups&&g.groups.length>0?g.groups.join("、"):null}（位置: ${g.index}）`).join(`

`)}`}else p.value="未找到匹配项",b.value="未找到匹配项"}catch(l){const o="正则表达式错误："+l;p.value=o,b.value=o}}}const z=x(null),S=l=>{(l.ctrlKey||l.metaKey)&&l.key==="a"&&(l.preventDefault(),j(z.value))},j=l=>{const o=document.createRange();o.selectNodeContents(l);const d=window.getSelection();d&&(d.removeAllRanges(),d.addRange(o))},N=()=>{z.value&&z.value.focus()};function B(){const l=m().map(o=>o.matched).join(`
`);if(l.trim()===""){C.warn("未找到匹配项");return}I(l,!1),C.success("匹配结果复制成功")}function K(){const l=m().map(o=>JSON.stringify(o.groups)).join(`
`);if(l.trim()===""){C.warn("未找到匹配项");return}I(l,!1),C.success("匹配组结果复制成功")}function X(){if(!u.value||u.value===""){C.warn("请输入带匹配内容");return}if(!k.value||k.value===""){C.warn("请输入替换文本");return}if(!f.value||f.value===""){C.warn("请输入正则表达式");return}R.value=u.value.replace(new RegExp(f.value,s.value),k.value)}function I(l,o=!0){navigator.clipboard.writeText(l),o&&C.success("复制成功")}function E(){const l=[];$.value&&l.push("g"),O.value&&l.push("i"),i.value&&l.push("m"),s.value=l.join(""),L()}function F(){E()}F();const U={regex:f,regexFlag:s,isGlobal:$,isIgnoreCase:O,isMulti:i,inputContent:u,matchResult:p,matchTextResult:b,replaceCotent:k,replaceResult:R,commonRegex:a,escapeHtml:y,getRegexMatchResultList:m,onRegexMatchChange:L,resultDivRef:z,handleKeydown:S,selectAllContent:j,focusResultDiv:N,onCopyMatchResult:B,onCopyMatchGroupResult:K,onReplaceInputContent:X,onCopyContent:I,onRegexFlagChange:E,initialize:F,get CopyOutlined(){return W},get CaretDownOutlined(){return V}};return Object.defineProperty(U,"__isScriptSetup",{enumerable:!1,value:!0}),U}}),se={class:"regex-root column"},le={class:"regex-body column"},ae={class:"row column-center",style:{"overflow-x":"auto"}},ne={class:"row column-center top-space-md"},te={class:"column"},oe={class:"row top-space-md",style:{height:"380px"}},de={key:0},re=["innerHTML"],ie={class:"column"},ue={class:"row auto-fill"},xe={class:"row column-center top-space-md"},ce={class:"regex-info-body column"},me={class:"subtitle"},ge={class:"content column"},pe={class:"cell",style:{flex:"0.8"}},ve={class:"cell",style:{flex:"1"}},fe={class:"cell",style:{flex:"0.6"}},ye={class:"cell",style:{flex:"1"}};function Ce(G,e,f,s,$,O){const i=A("a-button"),u=A("a-input"),p=A("a-radio"),b=A("a-menu"),k=A("a-dropdown"),R=A("a-textarea");return w(),h("div",se,[n("div",le,[v(" 简单通用正则表达式 "),n("div",ae,[e[24]||(e[24]=n("div",{class:"row",style:{"flex-shrink":"0"}},"常用正则表达式：",-1)),t(i,{class:"right-space-md",type:"primary",onClick:e[0]||(e[0]=a=>(s.regex="\\d+",s.inputContent="HELLO WORLD!1234567890你好世界！",s.onRegexMatchChange()))},{default:r(()=>[...e[19]||(e[19]=[c(" 匹配数字 ",-1)])]),_:1}),t(i,{class:"right-space-md",type:"primary",onClick:e[1]||(e[1]=a=>(s.regex="[A-Za-z]+",s.inputContent="HELLO WORLD!1234567890你好世界！",s.onRegexMatchChange()))},{default:r(()=>[...e[20]||(e[20]=[c(" 匹配字母 ",-1)])]),_:1}),t(i,{class:"right-space-md",type:"primary",onClick:e[2]||(e[2]=a=>(s.regex="[\\u4e00-\\u9fa5]+",s.inputContent="HELLO WORLD!1234567890你好世界！",s.onRegexMatchChange()))},{default:r(()=>[...e[21]||(e[21]=[c(" 匹配中文 ",-1)])]),_:1}),t(i,{class:"right-space-md",type:"primary",onClick:e[3]||(e[3]=a=>(s.regex="-?\\d+(\\.\\d+)?",s.inputContent="HELLO WORLD!1234.123你好世界！",s.onRegexMatchChange()))},{default:r(()=>[...e[22]||(e[22]=[c(" 匹配浮点数 ",-1)])]),_:1}),t(i,{class:"right-space-md",type:"primary",onClick:e[4]||(e[4]=a=>(s.regex="^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$",s.inputContent="12345he@gmail.com",s.onRegexMatchChange()))},{default:r(()=>[...e[23]||(e[23]=[c(" 匹配邮箱 ",-1)])]),_:1})]),e[32]||(e[32]=n("div",{class:"top-space-md",style:{height:"1px",background:"var(--border-medium)"}},null,-1)),v(" 正则表达式输入框 "),n("div",ne,[t(u,{class:"right-space-md",style:{width:"60%"},size:"large",placeholder:"请输入正则表达式",value:s.regex,"onUpdate:value":e[5]||(e[5]=a=>s.regex=a),"addon-before":"/","addon-after":"/"+s.regexFlag,onChange:s.onRegexMatchChange},null,8,["value","addon-after"]),t(k,{placement:"bottom",arrow:""},{overlay:r(()=>[t(b,null,{default:r(()=>[n("div",te,[t(p,{style:{margin:"var(--space-md)"},checked:s.isGlobal,"onUpdate:checked":e[6]||(e[6]=a=>s.isGlobal=a),onClick:e[7]||(e[7]=a=>(s.isGlobal=!s.isGlobal,s.onRegexFlagChange()))},{default:r(()=>[...e[26]||(e[26]=[c(" 全局搜索 -g ",-1)])]),_:1},8,["checked"]),t(p,{style:{margin:"var(--space-xs) var(--space-md)"},checked:s.isIgnoreCase,"onUpdate:checked":e[8]||(e[8]=a=>s.isIgnoreCase=a),onClick:e[9]||(e[9]=a=>(s.isIgnoreCase=!s.isIgnoreCase,s.onRegexFlagChange()))},{default:r(()=>[...e[27]||(e[27]=[c(" 忽略大小写 -i ",-1)])]),_:1},8,["checked"]),t(p,{style:{margin:"var(--space-md)"},checked:s.isMulti,"onUpdate:checked":e[10]||(e[10]=a=>s.isMulti=a),onClick:e[11]||(e[11]=a=>(s.isMulti=!s.isMulti,s.onRegexFlagChange()))},{default:r(()=>[...e[28]||(e[28]=[c(" 多行模式 -m ",-1)])]),_:1},8,["checked"])])]),_:1})]),default:r(()=>[t(i,{type:"primary",class:"right-space-lg"},{default:r(()=>[e[25]||(e[25]=c(" 修饰符",-1)),t(s.CaretDownOutlined)]),_:1})]),_:1})]),v(" 匹配内容输入框 "),t(R,{class:"top-space-md",value:s.inputContent,"onUpdate:value":e[12]||(e[12]=a=>s.inputContent=a),rows:5,placeholder:"输入待匹配内容",onChange:s.onRegexMatchChange},null,8,["value"]),v(" 匹配结果 "),n("div",oe,[n("div",{class:"match-result auto-fill",onKeydown:s.handleKeydown,onClick:s.focusResultDiv,tabindex:"0",ref:"resultDivRef",style:Q(`${s.matchResult&&s.matchResult!=""?"":"color: var(--text-tertiary)"}`)},[!s.matchResult||s.matchResult==""?(w(),h("div",de," 匹配结果在输入文本中的所在位置 ")):(w(),h("div",{key:1,innerHTML:s.matchResult},null,8,re))],36),e[29]||(e[29]=n("div",{style:{width:"var(--space-md)"}},null,-1)),v(" 操作区 "),n("div",ie,[t(i,{onClick:e[13]||(e[13]=a=>s.onCopyMatchResult())},{default:r(()=>[t(s.CopyOutlined)]),_:1}),t(i,{class:"top-space-md",onClick:e[14]||(e[14]=a=>s.onCopyMatchGroupResult())},{default:r(()=>[t(s.CopyOutlined)]),_:1})]),e[30]||(e[30]=n("div",{style:{width:"var(--space-md)"}},null,-1)),v(" 匹配结果文本信息 "),n("div",ue,[t(R,{value:s.matchTextResult,"onUpdate:value":e[15]||(e[15]=a=>s.matchTextResult=a),placeholder:"匹配文本结果",readonly:""},null,8,["value"])])]),v(" 替换文本 "),n("div",xe,[t(u,{class:"right-space-md",style:{width:"60%"},size:"large",placeholder:"请输入正则表达式",value:s.replaceCotent,"onUpdate:value":e[16]||(e[16]=a=>s.replaceCotent=a),"addon-before":"替换文本"},null,8,["value"]),t(i,{type:"primary",onClick:e[17]||(e[17]=a=>s.onReplaceInputContent())},{default:r(()=>[...e[31]||(e[31]=[c(" 替换 ",-1)])]),_:1})]),v(" 替换结果 "),t(R,{class:"top-space-md",value:s.replaceResult,"onUpdate:value":e[18]||(e[18]=a=>s.replaceResult=a),rows:12,placeholder:"替换结果",readonly:""},null,8,["value"])]),n("div",ce,[e[36]||(e[36]=n("div",{class:"title"},"常用正则表达式",-1)),(w(!0),h(H,null,T(s.commonRegex,(a,y)=>(w(),h("div",{key:y},[n("div",me,M(a.title),1),n("div",ge,[(w(!0),h(H,null,T(s.commonRegex[y].regexList,(m,L)=>(w(),h("div",{key:y},[n("div",{class:Y(`item row ${L==0?"headline":L%2==0?"even":""}`)},[n("div",pe,M(m.use),1),e[33]||(e[33]=n("div",{style:{width:"1px",background:"var(--border-medium)"}},null,-1)),n("div",ve,[c(M(m.regex)+" ",1),L!=0?(w(),J(i,{key:0,type:"primary",size:"small",ghost:"",style:{"margin-left":"var(--space-xs)"},onClick:z=>s.onCopyContent(m.regex)},{default:r(()=>[t(s.CopyOutlined)]),_:1},8,["onClick"])):v("v-if",!0)]),e[34]||(e[34]=n("div",{style:{width:"1px",background:"var(--border-medium)"}},null,-1)),n("div",fe,M(m.example),1),e[35]||(e[35]=n("div",{style:{width:"1px",background:"var(--border-medium)"}},null,-1)),n("div",ye,M(m.desc),1)],2)]))),128))])]))),128))])])}const be=P(ee,[["render",Ce],["__scopeId","data-v-6f721170"],["__file","/home/runner/work/endless-quest/endless-quest/src/page/common/regex.vue"]]);export{be as default};
