import{d as te,r as y,p as c,_ as oe,c as C,e as S,F as re,g as ne,o as _,u as g,h as d,f as O,q as R,v as p,x as k,y as ae}from"./index-CNb1k0Il.js";import{S as se,M as le}from"./SplitCellsOutlined-CQJFLDU0.js";const j="3.7.8",ie=j,v=typeof Buffer=="function",I=typeof TextDecoder=="function"?new TextDecoder:void 0,V=typeof TextEncoder=="function"?new TextEncoder:void 0,ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=Array.prototype.slice.call(ue),b=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(h),ce=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,s=String.fromCharCode.bind(String),z=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),M=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),q=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),G=e=>{let t,n,r,l,a="";const f=e.length%3;for(let u=0;u<e.length;){if((n=e.charCodeAt(u++))>255||(r=e.charCodeAt(u++))>255||(l=e.charCodeAt(u++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|l,a+=h[t>>18&63]+h[t>>12&63]+h[t>>6&63]+h[t&63]}return f?a.slice(0,f-3)+"===".substring(f):a},D=typeof btoa=="function"?e=>btoa(e):v?e=>Buffer.from(e,"binary").toString("base64"):G,F=v?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,l=e.length;r<l;r+=4096)n.push(s.apply(null,e.subarray(r,r+4096)));return D(n.join(""))},x=(e,t=!1)=>t?M(F(e)):F(e),fe=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?s(192|t>>>6)+s(128|t&63):s(224|t>>>12&15)+s(128|t>>>6&63)+s(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return s(240|t>>>18&7)+s(128|t>>>12&63)+s(128|t>>>6&63)+s(128|t&63)}},de=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,H=e=>e.replace(de,fe),P=v?e=>Buffer.from(e,"utf8").toString("base64"):V?e=>F(V.encode(e)):e=>D(H(e)),m=(e,t=!1)=>t?M(P(e)):P(e),N=e=>m(e,!0),pe=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,me=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return s((n>>>10)+55296)+s((n&1023)+56320);case 3:return s((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return s((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},J=e=>e.replace(pe,me),K=e=>{if(e=e.replace(/\s+/g,""),!ce.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n,r,l=[];for(let a=0;a<e.length;)t=b[e.charAt(a++)]<<18|b[e.charAt(a++)]<<12|(n=b[e.charAt(a++)])<<6|(r=b[e.charAt(a++)]),n===64?l.push(s(t>>16&255)):r===64?l.push(s(t>>16&255,t>>8&255)):l.push(s(t>>16&255,t>>8&255,t&255));return l.join("")},E=typeof atob=="function"?e=>atob(q(e)):v?e=>Buffer.from(e,"base64").toString("binary"):K,Q=v?e=>z(Buffer.from(e,"base64")):e=>z(E(e).split("").map(t=>t.charCodeAt(0))),W=e=>Q(X(e)),ve=v?e=>Buffer.from(e,"base64").toString("utf8"):I?e=>I.decode(Q(e)):e=>J(E(e)),X=e=>q(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),w=e=>ve(X(e)),_e=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},Y=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),$=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,Y(n));e("fromBase64",function(){return w(this)}),e("toBase64",function(t){return m(this,t)}),e("toBase64URI",function(){return m(this,!0)}),e("toBase64URL",function(){return m(this,!0)}),e("toUint8Array",function(){return W(this)})},ee=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,Y(n));e("toBase64",function(t){return x(this,t)}),e("toBase64URI",function(){return x(this,!0)}),e("toBase64URL",function(){return x(this,!0)})},he=()=>{$(),ee()},Z={version:j,VERSION:ie,atob:E,atobPolyfill:K,btoa:D,btoaPolyfill:G,fromBase64:w,toBase64:m,encode:m,encodeURI:N,encodeURL:N,utob:H,btou:J,decode:w,isValid:_e,fromUint8Array:x,toUint8Array:W,extendString:$,extendUint8Array:ee,extendBuiltins:he},ye=te({__name:"base64",setup(e,{expose:t}){t();const n=y([""]),r=y([""]),l=y(!1),a=y([!1]);function f(o){if(r.value.splice(o,1,""),!n.value[o]){c.warning("请输入内容");return}a.value[o]&&n.value.splice(o,1,n.value[o].trim()),r.value.splice(o,1,Z.encode(n.value[o])),c.success("编码成功"),l.value=!1}function u(o){if(r.value.splice(o,1,""),!n.value[o]){c.warning("请输入内容");return}a.value[o]&&n.value.splice(o,1,n.value[o].trim());let U="";try{U=Z.decode(n.value[o]),c.success("解码成功"),l.value=!1}catch(T){U=`请检查 Base64 格式是否正确
解码失败:${T.message}`,c.error("解码失败:"+T),l.value=!0}r.value.splice(o,1,U)}function A(o){a.value.splice(o,1,!a.value[o]),a.value[o]?(n.value.splice(o,1,n.value[o].trim()),c.success("已开启去除空格")):c.warning("已关闭去除空格")}function B(o){n.value.splice(o,1),r.value.splice(o,1),a.value.splice(o,1),c.warning("删除成功")}function L(o){n.value.splice(o+1,0,""),r.value.splice(o+1,0,""),a.value.splice(o+1,0,a.value[o]),c.success("拆分成功")}const i={inputList:n,outputList:r,isDecodeError:l,isTrimContentList:a,onEncodeContent:f,onDecodeContent:u,onTrimContent:A,onCompressCodemirror:B,onSplitCodemirror:L,get MergeCellsOutlined(){return le},get SplitCellsOutlined(){return se}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),Ce={class:"base64-root row"},ge={class:"base64-container auto-fill column"},be={class:"auto-fill"},xe={class:"row",style:{margin:"var(--space-md) 0"}},Ae={class:"auto-fill",style:{"margin-bottom":"var(--space-lg)"}};function Be(e,t,n,r,l,a){const f=C("a-textarea"),u=C("a-button"),A=C("a-radio"),B=C("a-popconfirm");return _(),S("div",Ce,[(_(!0),S(re,null,ne(r.inputList,(L,i)=>(_(),S("div",ge,[g("div",be,[d(f,{value:r.inputList[i],"onUpdate:value":o=>r.inputList[i]=o,style:{height:"100%"},placeholder:"输入任意内容进行 Base64 编码，或输入 Base64 编码进行解码"},null,8,["value","onUpdate:value"])]),g("div",xe,[d(u,{type:"primary",ghost:"",onClick:o=>r.onEncodeContent(i)},{default:p(()=>[...t[0]||(t[0]=[k(" Base64 编码 ",-1)])]),_:1},8,["onClick"]),d(u,{type:"primary",ghost:"",style:{"margin-left":"var(--space-sm)"},onClick:o=>r.onDecodeContent(i)},{default:p(()=>[...t[1]||(t[1]=[k(" Base64 解码 ",-1)])]),_:1},8,["onClick"]),d(A,{class:"center",style:{"margin-left":"var(--space-md)","user-select":"none"},checked:r.isTrimContentList[i],"onUpdate:checked":o=>r.isTrimContentList[i]=o,onClick:o=>r.onTrimContent(i)},{default:p(()=>[...t[2]||(t[2]=[k(" 去除两侧空格 ",-1)])]),_:1},8,["checked","onUpdate:checked","onClick"]),t[3]||(t[3]=g("div",{style:{"margin-left":"auto"}},null,-1)),d(B,{title:"确定删除该窗口?","ok-text":"确定","cancel-text":"取消",onConfirm:o=>r.onCompressCodemirror(i)},{default:p(()=>[r.inputList.length>1?(_(),O(u,{key:0},{default:p(()=>[d(r.MergeCellsOutlined)]),_:1})):R("v-if",!0)]),_:1},8,["onConfirm"]),r.inputList.length<3?(_(),O(u,{key:0,style:{"margin-left":"var(--space-xs)"},onClick:o=>r.onSplitCodemirror(i)},{default:p(()=>[d(r.SplitCellsOutlined)]),_:1},8,["onClick"])):R("v-if",!0)]),g("div",Ae,[d(f,{value:r.outputList[i],"onUpdate:value":o=>r.outputList[i]=o,style:ae(`height: 100%;border-color: ${r.isDecodeError?"var(--status-error)":""}`),placeholder:"此处显示 Base64 编码或 Base64 解码结果",readonly:""},null,8,["value","onUpdate:value","style"])])]))),256))])}const ke=oe(ye,[["render",Be],["__scopeId","data-v-d8b452b6"],["__file","/home/runner/work/endless-quest/endless-quest/src/page/common/base64.vue"]]);export{ke as default};
